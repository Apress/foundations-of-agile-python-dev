<html><title>testConnectAndDisconnectFails.html</title><body>Start setup1<BR><i>Start the Chat Server</i><table border cellspacing=0 cellpadding=3><tr><td>ChatStart</td></tr></table><i>End SetUp1</i><br>Start setup2<BR><b>User enters</b><table border cellspacing=0 cellpadding=3><tr><td bgcolor="#cfffcf"><b><i>connect user</i></b></td><td>anna</td></tr></table>End setup2<br>Start Setup3<BR>And creates a room<table border cellspacing=0 cellpadding=3><tr><td bgcolor="#cfffcf"><i>user</i></td><td>anna</td><td bgcolor="#cfffcf"><i>creates</i></td><td>lotr</td><td bgcolor="#cfffcf"><i>room</i></td></tr></table>End SetUp3<br><u>And then enters it</u><br><table border cellspacing=0 cellpadding=3><tr><td bgcolor="#cfffcf"><i>user</i></td><td>anna</td><td bgcolor="#cfffcf"><i>enters</i></td><td>lotr</td><td bgcolor="#cfffcf"><i>room</i></td></tr></table>So she is the only occupant<br><table border cellspacing=0 cellpadding=3><tr><td><i>users in room</i></td><td>lotr</td></tr><tr><td ColSpan=2><i>name</i></td></tr><tr><td bgcolor="#cfffcf">anna</td><td></td></tr></table>Now Luke tries to leave<br><table border cellspacing=0 cellpadding=3><tr><td bgcolor="#ffcfcf"><i>disconnect user</i></td><td>luke</td></tr></table>And no one is left<br><table border cellspacing=0 cellpadding=3><tr><td bgcolor="#ffcfcf"><i>room</i></td><td>lotr</td><td bgcolor="#ffcfcf"><i>is empty</i></td></tr></table>Start Teardown3<BR>And no one is left<table border cellspacing=0 cellpadding=3><tr><td bgcolor="#ffcfcf"><i>room</i></td><td>lotr</td><td bgcolor="#ffcfcf"><i>is empty</i></td></tr></table>End Teardown3<br>Start TearDown2<table border cellspacing=0 cellpadding=3><tr><td bgcolor="#ffcfcf"><i>room</i></td><td>lotr</td><td bgcolor="#ffcfcf"><i>is empty</i></td></tr></table>End TearDown2<br>Start Teardown1<BR>And no one is left<table border cellspacing=0 cellpadding=3><tr><td bgcolor="#ffcfcf"><i>room</i></td><td>lotr</td><td bgcolor="#ffcfcf"><i>is empty</i></td></tr></table>End Teardown1</body></html>